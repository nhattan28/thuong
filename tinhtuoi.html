<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>T√≠nh Tu·ªïi & Cung Ho√†ng ƒê·∫°o</title>
  <style>
    body {
      background: #fae0e0;
      color: #333;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: start;
      min-height: 40%;
      padding: 30px 20px;
    }
    h1 {
      margin-bottom: 5px;
      color: #222;
    }
    .input-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 30px;
    }
    input {
      padding: 15px 15px;
      border: 1px solid #db9393;
      border-radius: 6px;
      font-size: 16px;
      background: #fae0e0;
    }
    #result {
      font-size: 20px;
      margin-top: 20px;
      line-height: 1.6;
      text-align: center;
      color: #444;
      padding: 20px;
      border-radius: 8px;
      white-space: pre-line;
    }
  </style>
</head>
<body>
  <h1>T√≠nh Tu·ªïi Cung Ho√†ng ƒê·∫°o</h1>
  <div class="input-group">
    <input type="date" id="birthday" placeholder="Ch·ªçn ng√†y sinh">
  </div>
  <div id="result">Ch·ªçn ng√†y sinh ƒë·ªÉ b·∫Øt ƒë·∫ßu ƒë·∫øm!</div>

  <script>
    let interval;

    document.getElementById('birthday').addEventListener('change', function() {
      const bday = this.value;
      if (!bday) {
        alert("B·∫°n ch∆∞a ch·ªçn ng√†y sinh k√¨a!");
        return;
      }

      clearInterval(interval); // D·ª´ng ƒë·∫øm c≈© (n·∫øu c√≥)

      const birthDate = new Date(bday);

      interval = setInterval(() => {
        const now = new Date();

        let age = now.getFullYear() - birthDate.getFullYear();
        const m = now.getMonth() - birthDate.getMonth();
        if (m < 0 || (m === 0 && now.getDate() < birthDate.getDate())) {
          age--;
        }

        const diffMS = now - birthDate;

        const daysLived = Math.floor(diffMS / (1000 * 60 * 60 * 24));
        const totalSeconds = Math.floor(diffMS / 1000);
        const totalMinutes = Math.floor(totalSeconds / 60);
        const totalHours = Math.floor(totalMinutes / 60);
        const totalDays = Math.floor(totalHours / 24);

        const years = Math.floor(totalDays / 365.25);
        const months = Math.floor((totalDays % 365.25) / 30.44);
        const days = Math.floor((totalDays % 365.25) % 30.44);

        const zodiac = getZodiacSign(birthDate.getDate(), birthDate.getMonth() + 1);

        document.getElementById('result').innerText = 
          `üë∂ Tu·ªïi c·ªßa b·∫°n: ${age} tu·ªïi
üìÖ B·∫°n ƒë√£ s·ªëng: ${daysLived.toLocaleString()} ng√†y

üßÆ Chi ti·∫øt:
 ${years} nƒÉm
 ${months} th√°ng
 ${days} ng√†y
 ${totalHours.toLocaleString()} gi·ªù
 ${totalMinutes.toLocaleString()} ph√∫t
 ${totalSeconds.toLocaleString()} gi√¢y

üîÆ Cung ho√†ng ƒë·∫°o: ${zodiac}`;
      }, 1000);
    });

    function getZodiacSign(day, month) {
      const zodiacSigns = [
        ["Ma K·∫øt", 1, 19], ["B·∫£o B√¨nh", 1, 20, 2, 18], ["Song Ng∆∞", 2, 19, 3, 20],
        ["B·∫°ch D∆∞∆°ng", 3, 21, 4, 19], ["Kim Ng∆∞u", 4, 20, 5, 20],
        ["Song T·ª≠", 5, 21, 6, 20], ["C·ª± Gi·∫£i", 6, 21, 7, 22],
        ["S∆∞ T·ª≠", 7, 23, 8, 22], ["X·ª≠ N·ªØ", 8, 23, 9, 22],
        ["Thi√™n B√¨nh", 9, 23, 10, 22], ["B·ªç C·∫°p", 10, 23, 11, 21],
        ["Nh√¢n M√£", 11, 22, 12, 21], ["Ma K·∫øt", 12, 22, 12, 31]
      ];

      for (let i = 0; i < zodiacSigns.length; i++) {
        const sign = zodiacSigns[i];
        if (
          (month === sign[1] && day >= sign[2]) ||
          (sign.length === 5 && month === sign[3] && day <= sign[4]) ||
          (sign.length === 3 && month === sign[1] && day <= sign[2])
        ) {
          return sign[0];
        }
      }
      return "Kh√¥ng x√°c ƒë·ªãnh";
    }
  </script>
</body>
</html>
